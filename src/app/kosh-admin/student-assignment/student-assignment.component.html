<div class="container-dv">
  <div class="content-div" fxLayout="column" fxLayoutGap="10px" fxLayoutAlign="start">
    <div class="test-details" fxFlex fxLayout="row"  fxLayoutGap="10px" fxLayout.xs="column">
      <div fxLayout="column" fxLayoutGap="10px" fxFlex.gt-sm="300px">
        <div fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="start center" fxFlex="30px" class="heading">
          <mat-icon>subject</mat-icon>
          <span>Test Details</span> 
        </div>
        <mat-card fxFlex.gt-xs="180px">
          <mat-form-field>
            <mat-label>Batch</mat-label>
            <mat-select style="color: white !important;" [formControl]="batchControl">
              <mat-option *ngFor="let batch of batches" [value]="batch">
                {{batch}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Test Id</mat-label>
            <mat-select [formControl]="testIdControl">
              <mat-option *ngFor="let id of testIds" [value]="id">
                {{id}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Course</mat-label>
            <mat-select [formControl]="courseControl">
              <mat-option *ngFor="let course of courses" [value]="course">
                {{course}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-card>
      </div>
      <div fxLayout="column" fxLayoutGap="10px" fxFlex>
        <div fxLayout="row" style="color: rgb(109, 53, 212)" fxLayoutGap="5px" fxLayoutAlign="start center" fxFlex="30px" class="heading">
          <mat-icon>question_answer</mat-icon>
          <span>Criteria for next level assignment</span> 
        </div>
        <mat-card fxLayout="row" fxLayoutGap="10px" fxFlex.gt-xs="180px">
          <div fxFlex>
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Percentage">
            </mat-form-field>
          </div>
          <div fxFlex>
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Time Spent">
            </mat-form-field>
          </div>
        </mat-card>
      </div>
      <div fxLayout="column" fxLayoutGap="10px" fxFlex>
        <div fxLayout="row" style="color: rgb(109, 53, 212)" fxLayoutGap="5px" fxLayoutAlign="start center" fxFlex="30px" class="heading">
          <mat-icon>note</mat-icon>
          <span>Description</span> 
        </div>
        <mat-card style="padding: 20px !important;" fxFlex.gt-xs="180px">
          Assignment Description
        </mat-card>
      </div>
    </div>
    <div fxLayout="column" fxLayoutGap="2px">
      <div fxLayout="row" style="color: rgb(245, 80, 30)" fxLayoutGap="2px" fxLayoutAlign="start center" fxFlex="30px">
        <mat-icon>style</mat-icon>
        <span class="main-heading">Branch Selection</span> 
      </div>
      <div fxLayout="row" style="color: rgb(192, 158, 255)" fxLayoutGap="5px" fxLayoutAlign="start" fxFlex="30px" class="heading">
        <mat-icon>question_answer</mat-icon>
        <span>All Branches</span>
      </div>


      <mat-card fxLayout="column" style="overflow: auto;">
          <div fxLayout="row" style="height: 50px;">
            <div fxFlex="200px" fxLayout="row" fxLayoutAlign="center center" fxFlex-gt-xs="1 0 auto">
              <mat-checkbox (change)="selectAllBranches(allTableDetails)" style="margin-top: 8px;" color="primary" type="checkbox"></mat-checkbox>
            </div>
            <div fxFlex.xs="200px" fxLayout fxLayoutAlign="center center" fxFlex="0" *ngFor="let header of headers">{{header}}</div>
          </div>
          <div class="line"></div>
          <div *ngFor="let branch of allTableDetails">
            <div fxLayout="row" style="height: 50px;" >
              <div fxFlex="200px" fxLayout="row" fxLayoutAlign="center center" fxFlex-gt-xs="1">
                <mat-checkbox (change)="checkedOnCheckBox(branch)" [checked]="branch.isChecked" style="margin-top: 8px;" color="primary" type="checkbox">
                  <span class="sign">{{branch.sign}}</span>
                </mat-checkbox>
              </div>
              <div fxFlex.xs="200px" fxLayout fxLayoutAlign="center center" fxFlex="0" *ngFor="let header of getKeyValue(branch)">{{header}}</div>
            </div>      
            <div class="line"></div>
            <div [style.height]="branch.height" [style.overflow]="branch.overflow">
              <assignmnet-recursive [branches]="branch.branches" *ngIf="branch.branches.length>0"></assignmnet-recursive>
            </div>
          </div>
      </mat-card>
      
      <!-- <div class="test-details"   fxLayoutGap="10px">
        <mat-card   class="record-container" style=" width: 100%;">
          <div fxLayout="column" class="full" style="widows: 100%;">
            <div style="border: 2px solid red;" fxLayout="row" fxFlex fxLayout="row"  fxLayoutGap="30px" fxLayoutGap.xs="10px" fxLayoutAlign="start center" class="record">
              <div  fxFlex  class="header field">
                <mat-checkbox type="checkbox" [checked]="allHeaders.isChecked" (change)="doCheck()" color="primary">{{flagName}}</mat-checkbox>
              </div>
              <div  fxFlex *ngFor="let header of headers"  fxFlex.xs="200px" class="header">{{header}}</div>
            </div>
            <mat-divider></mat-divider>
            <div style="border: 2px solid red;" fxLayout="row" fxFlex fxLayout="row"  fxLayoutGap="30px" fxLayoutGap.xs="10px" fxLayoutAlign="start center" class="record">
                <div  fxFlex  class="header field">
                  <mat-checkbox type="checkbox" [checked]="allHeaders.isChecked" (change)="doCheck()" color="primary">{{flagName}}</mat-checkbox>
                </div>
                <div  fxFlex *ngFor="let header of headers"  fxFlex.xs="200px" class="header">{{header}}</div>
              </div>
              <mat-divider></mat-divider>
          </div> -->

         



          <!-- <div class="full table-content" *ngFor="let table of allTableDetails">
            <div fxFlex fxLayout="row"  fxLayoutGap.xs="10px" fxLayoutGap="30px" fxLayoutAlign="start center" class="record">
              <div fxFlex.gt-xs="100px" fxFlex.xs="100px" class="field">
                <mat-checkbox type="checkbox" [checked]="table.isChecked" (change)="subBranchChecked(table)" color="primary"></mat-checkbox>
              </div>
              <div [style.height]="table.height">
                <span (click)="displayNodeData(table)" class="sign">{{table.sign}}</span>
                <span>{{table.branchName}}</span>
                <div class="main-branch" style="padding-left:15px !important;height: 20px !important;" *ngFor="let subChild of table.branches">
                  <div *ngIf="table.isActive" fxLayout="row" fxLayoutGap="30px" fxLayoutGap.xs="10px" fxLayoutAlign="start center" class="record sub-branches">
                    <span class="sub-branch-name" fxFlex.gt-xs="110px" fxFlex.xs="110px">
                      <mat-checkbox type="checkbox" class="sub-branch-name" [checked]="subChild.isChecked" [value]="subChild.name" color="primary"></mat-checkbox>{{subChild.name}}
                    </span>
                    <div fxFlex.gt-xs="110px" fxFlex.xs="110px">{{table.course}}</div>
                    <div fxFlex.gt-xs="80px"  fxFlex.xs="80px">{{table.testId}}</div>
                    <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                    <mat-form-field>
                      <mat-label>Assignment Type</mat-label>
                      <mat-select>
                        <mat-option *ngFor="let assignment of assignmentType" [value]="assignment">
                          {{assignment}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    </div>
                    <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                      <mat-form-field class="example-full-width">
                        <input matInput placeholder="Assignment Time">
                      </mat-form-field>
                    </div>
                    <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker" placeholder="Assignment Date">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </div>
                    <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                      <mat-form-field>
                        <input matInput [matDatepicker]="picker2" placeholder="Solution Release Date">
                        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>
                      </mat-form-field>
                    </div>
                   
                  </div>
                </div>
            
            </div>
              <div fxFlex.gt-xs="110px" fxFlex.xs="110px">{{table.course}}</div>
              <div fxFlex.gt-xs="80px"  fxFlex.xs="80px">{{table.testId}}</div>
              <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                <mat-form-field>
                  <mat-label>Assignment Type</mat-label>
                  <mat-select>
                    <mat-option *ngFor="let assignment of assignmentType" [value]="assignment">
                      {{assignment}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                <mat-form-field class="example-full-width">
                  <input matInput placeholder="Assignment Time">
                </mat-form-field>
              </div>
              <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                <mat-form-field>
                  <input matInput [matDatepicker]="picker" placeholder="Assignment Date">
                  <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
              </div>
              <div fxFlex.gt-xs="200px" fxFlex.xs="200px">
                <mat-form-field>
                  <input matInput [matDatepicker]="picker2" placeholder="Solution Release Date">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
            <mat-divider></mat-divider>
          </div>   -->
        <!-- </mat-card>
      </div>   -->
    </div>
    <div class="button-section" fxflex fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="center center">
      <div fxflex.gt-xs="100px">
        <button class="button-delete" mat-button>Delete</button>
      </div>
      <div fxflex.gt-xs="100px">
        <button class="button-save" mat-button>Save</button>
      </div>
      <div fxflex.gt-xs="100px">
        <button class="button-close" mat-button>Close</button>
      </div>
    </div>
  </div>
</div> 
 

<!-- <mat-card style="height: 100%;width:100%;overflow: hidden;border: 2px solid red;">
  <div class="main-branch" [style.height]="maharashtra.height">
      <span (click)="displayNodeData(maharashtra)" class="sign">{{maharashtra.sign}}</span>
      <span>{{maharashtra.name}}</span>
    <div class="main-branch" [style.height]="maharashtra.height" style="border: 1px solid black"  *ngFor="let child of maharashtra.childNodes">
      <div *ngIf="maharashtra.isActive">
        <span  (click)="displayNodeData(child)" class="sign">{{child.sign}}</span>
        <span>{{child.name}}</span>
      </div>
      <div class="main-branch" style="padding-left:15px !important;height: 20px !important;" *ngFor="let subChild of child.childNodes">
       <span *ngIf="child.isActive">{{subChild.name}}</span>

      </div>
    </div>
  </div>
</mat-card> -->
 





